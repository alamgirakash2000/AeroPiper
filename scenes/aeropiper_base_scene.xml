<mujoco model="AeroPiperBaseScene">
  <!-- Meshdir points to robot meshes root; frame uses relative path from here -->
  <compiler angle="radian" meshdir="../assets/meshes/robot_meshes"/>

  <option integrator="implicitfast" cone="elliptic" impratio="10" timestep="0.01" gravity="0 0 0">
    <flag eulerdamp="disable" />
  </option>

  <custom>
    <numeric data="30" name="max_contact_points" />
    <numeric data="12" name="max_geom_pairs" />
  </custom>

  <statistic center="0 0 0.8" extent="1.0"/>

  <visual>
    <headlight diffuse="0.6 0.6 0.6" ambient="0.3 0.3 0.3" specular="0 0 0"/>
    <rgba haze="0.9 0.9 0.9 1"/>
    <global azimuth="90" elevation="-50"/>
  </visual>

  <include file="../assets/xml/robot/aeropiper_right.xml"/>
  <include file="../assets/xml/robot/aeropiper_left.xml"/>
  <include file="../assets/xml/utils/floor_arena.xml"/>

  <asset>
    <mesh name="frame_mesh" file="../frame/frame.stl" scale="0.001 0.001 0.001"/>
    <texture file="../assets/textures/light-wood.png" type="2d" name="tex_table_top"/>
    <material name="table_top_mat" reflectance="0.15" shininess="0.3" specular="0.1" texrepeat="2 2" texture="tex_table_top" texuniform="true"/>
    <texture file="../assets/textures/light-wood.png" type="2d" name="tex_table_legs"/>
    <material name="table_leg_mat" reflectance="0.1" shininess="0.2" specular="0.05" texrepeat="1 1" texture="tex_table_legs" texuniform="true"/>
  </asset>

  <worldbody>
    <body name="frame" pos="0 0 -0.084775">
      <geom name="frame_geom" type="mesh" mesh="frame_mesh" rgba="0.2 0.2 0.8 1"/>
      <body name="right_arm_mount_frame" pos="0.21 -0.20 1.335" quat="0 1 0 0"/>
      <body name="left_arm_mount_frame" pos="0.21 0.20 1.335" quat="0 1 0 0"/>
    </body>

    <body name="table" pos="0.75 0 0">
      <geom name="table_top_collision" type="box" pos="0 0 0.63" size="0.5 0.7 0.04" friction="0.8 0.005 0.0001"/>
      <geom name="table_top_visual" type="box" pos="0 0 0.63" size="0.5 0.7 0.04" conaffinity="0" contype="0" material="table_top_mat"/>
      <geom name="table_leg_fl" type="box" pos="0.45 0.55 0.295" size="0.05 0.05 0.295" conaffinity="0" contype="0" material="table_leg_mat"/>
      <geom name="table_leg_fr" type="box" pos="0.45 -0.55 0.295" size="0.05 0.05 0.295" conaffinity="0" contype="0" material="table_leg_mat"/>
      <geom name="table_leg_rl" type="box" pos="-0.45 0.55 0.295" size="0.05 0.05 0.295" conaffinity="0" contype="0" material="table_leg_mat"/>
      <geom name="table_leg_rr" type="box" pos="-0.45 -0.55 0.295" size="0.05 0.05 0.295" conaffinity="0" contype="0" material="table_leg_mat"/>
    </body>
  </worldbody>

  <equality>
    <weld body1="right_arm_mount_frame" body2="right_base_link" solref="0.02 1"/>
    <weld body1="left_arm_mount_frame" body2="left_base_link" solref="0.02 1"/>
  </equality>

  <keyframe>
    <key name="home"
         qpos="0 1.57 -1.35 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1.57 -1.35 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0"
         ctrl="0 1.57 -1.35 0 0 0 0 0 0 0 0 0 0 0 1.57 -1.35 0 0 0 0 0 0 0 0 0 0"/>
  </keyframe>
</mujoco>
